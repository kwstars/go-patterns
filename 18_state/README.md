## 什么是状态模式

- Allow an object to alter its behavior when its internal state changes.The object will appear to change its class.
- 允许一个对象在其内部状态发生改变时改变其行为，使这个对象看上去就像改变了它的类型一样。
- 如水一般，状态即事物所处的某一种形态。状态模式是说一个对象在其内部状态发生改变时，其表现的行为和外在属性不一样，这个对象看上去就像改变了它的类型一样。因此，状态模式又称为对象的行为模式。

## 模型说明

### 1.设计要点

1. 在实现状态模式的时候，实现的场景状态有时候会非常复杂，决定状态变化的因素也非常多，我们可以把决定状态变化的属性单独抽象成一个类 StateInfo，这样判断状态属性是否符合当前的状态 isMatch 时就可以传入更多的信息。
2. 每一种状态应当只有唯一的实例。

### 2.状态模式的优缺点

**优点：**

1. 封装了状态的转换规则，在状态模式中可以将状态的转换代码封装在环境类中，对状态转换代码进行集中管理，而不是分散在一个个业务逻辑中。
2. 将所有与某个状态有关的行为放到一个类中（称为状态类），使开发人员只专注于该状态下的逻辑开发。
3. 允许状态转换逻辑与状态对象合为一体，使用时只需要注入一个不同的状态对象即可使环境对象拥有不同的行为。

**缺点：**

1. 会增加系统类和对象的个数。
2. 状态模式的结构与实现都较为复杂，如果使用不当容易导致程序结构和代码的混乱。

## 应用场景

1. 一个对象的行为取决于它的状态，并且它在运行时可能经常改变它的状态，从而改变它的行为。
2. 一个操作中含有庞大的多分支的条件语句，这些分支依赖于该对象的状态，且每一个分支的业务逻辑都非常复杂时，我们可以使用状态模式来拆分不同的分支逻辑，使程序有更好的可读性和可维护性。
